#     error_Pol = `Pollution Burden` - redo_Pol
#   )
#
# rescale_10 <- function(x){
#   upper_x <- max(x, na.rm = T)
#   y <- 10*x/upper_x
#   return(y)
# }
#
# df$redo_Pol_scaled <- rescale_10(df$redo_Pol)
# df$redo_Pop_scaled <- rescale_10(df$redo_Pop)
#
# df <- df %>%
#   mutate(
#     redo_CES = redo_Pop_scaled * redo_Pol_scaled,
#     error_rate = redo_CES - `CES 4.0 Score`
#   ) %>%
#   select(
#     `Census Tract`,
#     `Asthma Pctl`, `Low Birth Weight Pctl`, `Cardiovascular Disease Pctl`,
#     `Education Pctl`, `Linguistic Isolation Pctl`, `Poverty Pctl`,
#     `Unemployment Pctl`, `Housing Burden Pctl`, na_pop1, na_pop2, na_pop,
#     redo_Pop1, redo_Pop2, redo_Pop, `Pop. Char.`, error_Pop,
#     na_pol1, na_pol2, na_pol,
#     redo_Pol1, redo_Pol2, redo_Pol, `Pollution Burden`, error_Pol,
#     redo_Pop_scaled, redo_Pol_scaled, redo_CES, `CES 4.0 Score`, error_rate
#   )
temp <- st_set_geometry(all_comms, NULL) %>%
select(ID, DAC_status)
wecc_tracts <- merge(wecc_tracts, temp, by.x = "GEOID10", by.y = "ID")
rm(
all_comms, cal_comms, cal_dacs, demand_sch, df, hourly_sim, sim_gen_hourly,
temp, i, my_state, my_states, rescale_10
)
gc()
#:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
#:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
## Environmental Inequality Gap ------------------------------------------------
#:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
# Metric 1: No Buffer ----------------------------------------------------------
temp <- st_set_geometry(wecc_tracts, NULL) %>%
select(GEOID10, DAC_status, STATEFP10, COUNTYFP10, ALAND10) %>%
# Just to avoid an issue
mutate(
ALAND10 = ifelse(ALAND10 == 0, 1, ALAND10)
)
annual_sim_sf <- st_as_sf(
x = annual_sim,
coords = c("lon", "lat"),
crs =  "WGS84") %>%
st_transform(crs = st_crs(wecc_tracts))
plants_sf <- st_as_sf(
x = plants,
coords = c("lon", "lat"),
crs =  "WGS84") %>%
st_transform(crs = st_crs(wecc_tracts))
ei_gap1 <- st_join(plants_sf, wecc_tracts)
ei_gap1 <- st_set_geometry(ei_gap1, NULL) %>%
select(plantID, GEOID10)
ei_gap1 <- merge(annual_sim, ei_gap1, by="plantID")
ei_gap1 <- ei_gap1 %>%
group_by(GEOID10, scenario, bca, tau) %>%
summarise(
annual_nox = sum(annual_nox),
annual_so2 = sum(annual_so2),
annual_pm25 = sum(annual_pm25)
)
temp_spt <- split(ei_gap1, ei_gap1$scenario)
ei_gap1 <- lapply(
temp_spt,
function (x) {
y = merge(temp, x, by = "GEOID10", all.x = T)
my_scenario = unique(x$scenario)
my_bca = unique(x$bca)
my_tau = unique(x$tau)
y$scenario = rep(my_scenario, nrow(y))
y$bca = rep(my_bca, nrow(y))
y$tau = rep(my_tau, nrow(y))
return(y)
}
)
ei_gap1 <- bind_rows(ei_gap1)
ei_gap1 <- ei_gap1 %>%
mutate_at(vars('annual_nox', 'annual_so2', 'annual_pm25'),
~replace(., is.na(.), 0))
temp <- ei_gap1 %>%
group_by(DAC_status, scenario, bca, tau) %>%
summarise(
annual_nox = mean(annual_nox/ALAND10*2589988),
annual_so2 = mean(annual_so2/ALAND10*2589988),
annual_pm25 = mean(annual_pm25/ALAND10*2589988)
)
# NOx
pdf("Writing/Draft/figures/chapter5_figures/ei_gap_bca_nox.pdf",
width = 5, height = 4)
ggplot(temp %>% filter(bca == 1), aes(x= tau, y=annual_nox, color = DAC_status)) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price ($/tonne)',
y='Tonnes NOx per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
dev.off()
pdf("Writing/Draft/figures/chapter5_figures/ei_gap_nobca_nox.pdf",
width = 7, height = 4)
ggplot(temp %>% filter(bca == 0), aes(x= tau, y=annual_nox, color = DAC_status)) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price ($/tonne)',
y='Tonnes NOx per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
dev.off()
wecc_tracts$DAC_status
stwecc_tracts %>%
group_by(STATEFP10) %>%
summarize(
prop_dis = sum(DAC_status == "Disadvantaged")
)
# wecc_tracts$DAC_status
#
# stwecc_tracts %>%
#   group_by(STATEFP10) %>%
#   summarize(
#     prop_dis = sum(DAC_status == "Disadvantaged")
#   )
# SO2
# pdf("Writing/Draft/figures/chapter5_figures/ei_gap_bca_so2.pdf",
#     width = 5, height = 4)
# ggplot(temp %>% filter(bca == 1), aes(x= tau, y=annual_so2, color = DAC_status)) +
#   geom_line(lwd=2) +
#   geom_point(color = "white", size = 5) +
#   geom_point(size = 4) +
#   labs(x='\nCalifornia Emissions Price ($/tonne)',
#        y='Tonnes SO2 per sq. mile\n') +
#   scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
#   theme(legend.title = element_blank(), legend.position = "top")
# dev.off()
#
# pdf("Writing/Draft/figures/chapter5_figures/ei_gap_nobca_so2.pdf",
#     width = 5, height = 4)
# ggplot(temp %>% filter(bca == 0), aes(x= tau, y=annual_so2, color = DAC_status)) +
#   geom_line(lwd=2) +
#   geom_point(color = "white", size = 5) +
#   geom_point(size = 4) +
#   labs(x='\nCalifornia Emissions Price ($/tonne)',
#        y='Tonnes SO2 per sq. mile\n') +
#   scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
#   theme(legend.title = element_blank(), legend.position = "top")
# dev.off()
# SO2
# pdf("Writing/Draft/figures/chapter5_figures/ei_gap_bca_pm25.pdf",
#     width = 5, height = 4)
# ggplot(temp %>% filter(bca == 1), aes(x= tau, y=annual_pm25, color = DAC_status)) +
#   geom_line(lwd=2) +
#   geom_point(color = "white", size = 5) +
#   geom_point(size = 4) +
#   labs(x='\nCalifornia Emissions Price ($/tonne)',
#        y='Tonnes PM2.5 per sq. mile\n') +
#   scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
#   theme(legend.title = element_blank(), legend.position = "top")
# dev.off()
#
# pdf("Writing/Draft/figures/chapter5_figures/ei_gap_nobca_pm25.pdf",
#     width = 5, height = 4)
# ggplot(temp %>% filter(bca == 0), aes(x= tau, y=annual_pm25, color = DAC_status)) +
#   geom_line(lwd=2) +
#   geom_point(color = "white", size = 5) +
#   geom_point(size = 4) +
#   labs(x='\nCalifornia Emissions Price ($/tonne)',
#        y='Tonnes PM2.5 per sq. mile\n') +
#   scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
#   theme(legend.title = element_blank(), legend.position = "top")
# dev.off()
p1 <- ggplot(temp %>% filter(bca == 1), aes(x= tau, y=annual_so2,
color = DAC_status)) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price \n($/tonne)',
y='Tonnes SO2 per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
p2 <- ggplot(temp %>% filter(bca == 1), aes(x= tau, y=annual_pm25,
color = DAC_status)) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price \n($/tonne)',
y='Tonnes PM2.5 per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
pdf("Writing/Draft/figures/chapter5_figures/ei_gap_so2_pm25.pdf",
width = 6, height = 4)
ggpubr::ggarrange(p1, p2, ncol = 2, nrow = 1, labels = c("A","B"),
common.legend = T)
dev.off()
# Just California things hahahha
temp <- ei_gap1 %>%
filter(STATEFP10 == "06") %>%
group_by(DAC_status, scenario, bca, tau) %>%
summarise(
annual_nox = mean(annual_nox/ALAND10*2589988),
annual_so2 = mean(annual_so2/ALAND10*2589988),
annual_pm25 = mean(annual_pm25/ALAND10*2589988)
)
pdf("Writing/Draft/figures/chapter5_figures/ei_gap_bca_nox_cal.pdf",
width = 5, height = 4)
ggplot(temp %>% filter(bca == 1), aes(x= tau, y=annual_nox, color = DAC_status)) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price ($/tonne)',
y='Tonnes NOx per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
dev.off()
# pdf("Writing/Draft/figures/chapter5_figures/ei_gap_nobca_nox_cal.pdf",
#     width = 7, height = 4)
# ggplot(temp %>% filter(bca == 0), aes(x= tau, y=annual_nox, color = DAC_status)) +
#   geom_line(lwd=2) +
#   geom_point(color = "white", size = 5) +
#   geom_point(size = 4) +
#   labs(x='\nCalifornia Emissions Price ($/tonne)',
#        y='Tonnes NOx per sq. mi\n') +
#   scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
#   theme(legend.title = element_blank(), legend.position = "right")
# dev.off()
p1 <- ggplot(temp %>% filter(bca == 1), aes(x= tau, y=annual_so2,
color = DAC_status)) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price \n($/tonne)',
y='Tonnes SO2 per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
p2 <- ggplot(temp %>% filter(bca == 1), aes(x= tau, y=annual_pm25,
color = DAC_status)) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price \n($/tonne)',
y='Tonnes PM2.5 per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
pdf("Writing/Draft/figures/chapter5_figures/ei_gap_so2_pm25_cal.pdf",
width = 6, height = 4)
ggpubr::ggarrange(p1, p2, ncol = 2, nrow = 1, labels = c("A","B"),
common.legend = T)
dev.off()
# Metric 2: X-Mile Buffer Zones
plant_coords <- st_as_sf(
x = plants,
coords = c("lon", "lat"),
crs =  "WGS84") %>%
st_transform(crs = st_crs(wecc_tracts))
rm(p1, p2, plants_sf, temp, temp_spt)
dev.off()
gc()
plant_coords <- st_as_sf(
x = plants,
coords = c("lon", "lat"),
crs =  "WGS84") %>%
st_transform(crs = st_crs(wecc_tracts))
ei_with_buffers <- function(X){
buffer_WECC <- st_buffer(wecc_tracts, dist = 1000*X*0.621371)
buffer_WECC$buffer_areas <- st_area(buffer_WECC)
temp <- st_set_geometry(buffer_WECC, NULL) %>%
select(GEOID10, DAC_status, STATEFP10, COUNTYFP10, buffer_areas)
ei_gap2 <- st_join(plant_coords, buffer_WECC)
ei_gap2 <- st_set_geometry(ei_gap2, NULL) %>%
select(plantID, GEOID10)
ei_gap2 <- merge(annual_sim, ei_gap2, by="plantID")
ei_gap2 <- ei_gap2 %>%
group_by(GEOID10, scenario, bca, tau) %>%
summarise(
annual_nox = sum(annual_nox),
annual_so2 = sum(annual_so2),
annual_pm25 = sum(annual_pm25)
)
temp_spt <- split(ei_gap2, ei_gap2$scenario)
ei_gap2 <- lapply(
temp_spt,
function (x) {
y = merge(temp, x, by = "GEOID10", all.x = T)
my_scenario = unique(x$scenario)
my_bca = unique(x$bca)
my_tau = unique(x$tau)
y$scenario = rep(my_scenario, nrow(y))
y$bca = rep(my_bca, nrow(y))
y$tau = rep(my_tau, nrow(y))
return(y)
}
)
ei_gap2 <- bind_rows(ei_gap2)
ei_gap2 <- ei_gap2 %>%
mutate_at(vars('annual_nox', 'annual_so2', 'annual_pm25'),
~replace(., is.na(.), 0)) %>%
mutate(buffer_areas = units::drop_units(buffer_areas))
temp <- ei_gap2 %>%
group_by(DAC_status, scenario, bca, tau) %>%
summarise(
annual_nox = mean(annual_nox/buffer_areas*2589988),
annual_so2 = mean(annual_so2/buffer_areas*2589988),
annual_pm25 = mean(annual_pm25/buffer_areas*2589988)
)
temp$buffer_dist <- rep(X, nrow(temp))
return(x)
}
sample_dist <- list(0, 5, 10, 15)
ei_gap_buffered <- lapply(sample_dist, ei_with_buffers)
ei_with_buffers <- function(X){
buffer_WECC <- st_buffer(wecc_tracts, dist = 1000*X*0.621371)
buffer_WECC$buffer_areas <- st_area(buffer_WECC)
temp <- st_set_geometry(buffer_WECC, NULL) %>%
select(GEOID10, DAC_status, STATEFP10, COUNTYFP10, buffer_areas)
ei_gap2 <- st_join(plant_coords, buffer_WECC)
ei_gap2 <- st_set_geometry(ei_gap2, NULL) %>%
select(plantID, GEOID10)
ei_gap2 <- merge(annual_sim, ei_gap2, by="plantID")
ei_gap2 <- ei_gap2 %>%
group_by(GEOID10, scenario, bca, tau) %>%
summarise(
annual_nox = sum(annual_nox),
annual_so2 = sum(annual_so2),
annual_pm25 = sum(annual_pm25)
)
temp_spt <- split(ei_gap2, ei_gap2$scenario)
ei_gap2 <- lapply(
temp_spt,
function (x) {
y = merge(temp, x, by = "GEOID10", all.x = T)
my_scenario = unique(x$scenario)
my_bca = unique(x$bca)
my_tau = unique(x$tau)
y$scenario = rep(my_scenario, nrow(y))
y$bca = rep(my_bca, nrow(y))
y$tau = rep(my_tau, nrow(y))
return(y)
}
)
ei_gap2 <- bind_rows(ei_gap2)
ei_gap2 <- ei_gap2 %>%
mutate_at(vars('annual_nox', 'annual_so2', 'annual_pm25'),
~replace(., is.na(.), 0)) %>%
mutate(buffer_areas = units::drop_units(buffer_areas))
temp <- ei_gap2 %>%
group_by(DAC_status, scenario, bca, tau) %>%
summarise(
annual_nox = mean(annual_nox/buffer_areas*2589988),
annual_so2 = mean(annual_so2/buffer_areas*2589988),
annual_pm25 = mean(annual_pm25/buffer_areas*2589988)
)
temp$buffer_dist <- rep(X, nrow(temp))
return(temp)
}
ei_gap_buffered <- lapply(sample_dist, ei_with_buffers)
ei_gap_buffered <- bind_rows(ei_gap_buffered)
View(ei_gap_buffered)
temp <- ei_gap_buffered %>%
filter(bca == 1)
View(temp)
ggplot(temp, aes(x= tau, y=annual_nox, color = DAC_status)) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
facet_wrap(buffer_dist, nrow = 2, ncol = 2) +
labs(x='\nCalifornia Emissions Price ($/tonne)',
y='Tonnes NOx per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
ggplot(temp, aes(x= tau, y=annual_nox, color = DAC_status)) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
facet_wrap("buffer_dist", nrow = 2, ncol = 2) +
labs(x='\nCalifornia Emissions Price ($/tonne)',
y='Tonnes NOx per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
View(temp)
temp <- ei_gap_buffered %>%
filter(bca == 1) %>%
pivot_wider(names_from = DAC_status, values_from = 5:7)
View(temp)
temp <- ei_gap_buffered %>%
filter(bca == 1) %>%
pivot_wider(names_from = DAC_status, values_from = 5:7) %>%
mutate(
nox_diff = annual_nox_Disadvantaged - `annual_nox_Non-Disadvantaged`,
so2_diff = annual_so2_Disadvantaged - `annual_so2_Non-Disadvantaged`,
pm25_diff = annual_pm25_Disadvantaged - `annual_pm25_Non-Disadvantaged`
)
ggplot(temp, aes(x= tau, y=nox_diff, color = buffer_dist)) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price ($/tonne)',
y='Tonnes NOx per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
ggplot(temp, aes(x= tau, y=nox_diff, color = as.factor(buffer_dist))) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price ($/tonne)',
y='Tonnes NOx per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
ggplot(temp, aes(x= tau, y=so2_diff, color = as.factor(buffer_dist))) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price ($/tonne)',
y='Tonnes NOx per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
ggplot(temp, aes(x= tau, y=pm25_diff, color = as.factor(buffer_dist))) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price ($/tonne)',
y='Tonnes NOx per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
p1 <- ggplot(temp, aes(x= tau, y=nox_diff, color = as.factor(buffer_dist))) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price ($/tonne)',
y='Tonnes NOx per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
p2 <- ggplot(temp, aes(x= tau, y=so2_diff, color = as.factor(buffer_dist))) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price ($/tonne)',
y='Tonnes NOx per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
p3 <- ggplot(temp, aes(x= tau, y=pm25_diff, color = as.factor(buffer_dist))) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price ($/tonne)',
y='Tonnes NOx per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
pdf("Writing/Draft/figures/chapter5_figures/ei_gap_buffers.pdf",
width = 7, height = 4)
ggpubr::ggarrange(p1, p2, p3, ncol = 3, nrow = 1, labels = c("A","B","C"),
common.legend = T)
dev.off()
pdf("Writing/Draft/figures/chapter5_figures/ei_gap_buffers.pdf",
width = 6, height = 8)
ggpubr::ggarrange(p1, p2, p3, ncol = 1, nrow = 3, labels = c("A","B","C"),
common.legend = T)
dev.off()
p1 <- ggplot(temp, aes(x= tau, y=nox_diff, color = as.factor(buffer_dist))) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price ($/tonne)',
y='Tonnes NOx per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
p2 <- ggplot(temp, aes(x= tau, y=so2_diff, color = as.factor(buffer_dist))) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price ($/tonne)',
y='Tonnes SO2 per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
p3 <- ggplot(temp, aes(x= tau, y=pm25_diff, color = as.factor(buffer_dist))) +
geom_line(lwd=2) +
geom_point(color = "white", size = 5) +
geom_point(size = 4) +
labs(x='\nCalifornia Emissions Price ($/tonne)',
y='Tonnes PM2.5 per sq. mile\n') +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80)) +
theme(legend.title = element_blank(), legend.position = "top")
pdf("Writing/Draft/figures/chapter5_figures/ei_gap_buffers.pdf",
width = 5, height = 9)
ggpubr::ggarrange(p1, p2, p3, ncol = 1, nrow = 3, labels = c("A","B","C"),
common.legend = T)
dev.off()
temp <- ei_gap1 %>%
group_by(DAC_status, scenario, bca, tau) %>%
summarise(
annual_nox = mean(annual_nox/ALAND10*2589988),
annual_so2 = mean(annual_so2/ALAND10*2589988),
annual_pm25 = mean(annual_pm25/ALAND10*2589988)
)
l <- temp %>% filter(bca == 1)
View(l)
# Just California things hahahha
temp <- ei_gap1 %>%
filter(STATEFP10 == "06") %>%
group_by(DAC_status, scenario, bca, tau) %>%
summarise(
annual_nox = mean(annual_nox/ALAND10*2589988),
annual_so2 = mean(annual_so2/ALAND10*2589988),
annual_pm25 = mean(annual_pm25/ALAND10*2589988)
)
l <- temp %>% filter(bca == 1)
View(l)
View(plants)
